<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES6 核心特性 | Dajun</title>
    <meta name="description" content="笔记">
    <link rel="icon" href="/logo.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.7f3e8fa0.css" as="style"><link rel="preload" href="/assets/js/app.3c18ba2b.js" as="script"><link rel="preload" href="/assets/js/2.2d7f6841.js" as="script"><link rel="preload" href="/assets/js/9.a84cb03a.js" as="script"><link rel="prefetch" href="/assets/js/10.4e623ea8.js"><link rel="prefetch" href="/assets/js/11.1b2a7179.js"><link rel="prefetch" href="/assets/js/12.8062ade3.js"><link rel="prefetch" href="/assets/js/13.edc49012.js"><link rel="prefetch" href="/assets/js/14.e84ee3f4.js"><link rel="prefetch" href="/assets/js/15.e8d4142b.js"><link rel="prefetch" href="/assets/js/16.40a39847.js"><link rel="prefetch" href="/assets/js/17.1c075161.js"><link rel="prefetch" href="/assets/js/18.34b4e583.js"><link rel="prefetch" href="/assets/js/19.7f97ee03.js"><link rel="prefetch" href="/assets/js/20.aabac5c0.js"><link rel="prefetch" href="/assets/js/21.d261013f.js"><link rel="prefetch" href="/assets/js/22.b7560755.js"><link rel="prefetch" href="/assets/js/23.eb76ccea.js"><link rel="prefetch" href="/assets/js/24.6d592b30.js"><link rel="prefetch" href="/assets/js/25.b30f5339.js"><link rel="prefetch" href="/assets/js/26.8efe380d.js"><link rel="prefetch" href="/assets/js/27.94f1d5b7.js"><link rel="prefetch" href="/assets/js/28.4d86e4cc.js"><link rel="prefetch" href="/assets/js/29.2b342c8d.js"><link rel="prefetch" href="/assets/js/3.976ff7bf.js"><link rel="prefetch" href="/assets/js/30.68cd5081.js"><link rel="prefetch" href="/assets/js/31.fef0ba54.js"><link rel="prefetch" href="/assets/js/32.baa6441c.js"><link rel="prefetch" href="/assets/js/33.9c22ff1b.js"><link rel="prefetch" href="/assets/js/34.a08208a6.js"><link rel="prefetch" href="/assets/js/35.f0d94ae9.js"><link rel="prefetch" href="/assets/js/36.8f885fc3.js"><link rel="prefetch" href="/assets/js/37.7fd3e68c.js"><link rel="prefetch" href="/assets/js/38.bd73a7cf.js"><link rel="prefetch" href="/assets/js/39.2dca5b84.js"><link rel="prefetch" href="/assets/js/4.ab25bdf6.js"><link rel="prefetch" href="/assets/js/40.e324d414.js"><link rel="prefetch" href="/assets/js/41.32b91a1c.js"><link rel="prefetch" href="/assets/js/42.fee64b88.js"><link rel="prefetch" href="/assets/js/43.fc4fcb6c.js"><link rel="prefetch" href="/assets/js/44.3aeab9ce.js"><link rel="prefetch" href="/assets/js/45.811463a8.js"><link rel="prefetch" href="/assets/js/46.94aea5ef.js"><link rel="prefetch" href="/assets/js/47.2863ce6a.js"><link rel="prefetch" href="/assets/js/48.4239ef8f.js"><link rel="prefetch" href="/assets/js/49.7e48151d.js"><link rel="prefetch" href="/assets/js/5.c62fc94e.js"><link rel="prefetch" href="/assets/js/6.5bb0aa3d.js"><link rel="prefetch" href="/assets/js/7.8c724b93.js"><link rel="prefetch" href="/assets/js/8.d40cf774.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7f3e8fa0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Dajun</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Interview/" class="nav-link router-link-active">面试</a></div><div class="nav-item"><a href="/Notes/" class="nav-link">笔记</a></div><div class="nav-item"><a href="/Summary/" class="nav-link">总结</a></div><div class="nav-item"><a href="/Reprint/" class="nav-link">转载</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Interview/" class="nav-link router-link-active">面试</a></div><div class="nav-item"><a href="/Notes/" class="nav-link">笔记</a></div><div class="nav-item"><a href="/Summary/" class="nav-link">总结</a></div><div class="nav-item"><a href="/Reprint/" class="nav-link">转载</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML&amp;&amp;CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>ES6</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Interview/ES6/" class="sidebar-link">ES6 题集 1</a></li><li><a href="/Interview/ES6/kexin.html" class="active sidebar-link">ES6 核心特性</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机基础</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="es6-核心特性"><a href="#es6-核心特性" aria-hidden="true" class="header-anchor">#</a> ES6 核心特性</h2> <p>作者：浪里行舟
https://github.com/ljianshu/Blog/issues/10</p> <p></p><div class="table-of-contents"><ul><li><a href="#es6-核心特性">ES6 核心特性</a><ul><li><a href="#一、开发环境配置">一、开发环境配置</a></li><li><a href="#二、块级作用域">二、块级作用域</a></li><li><a href="#三、数组的扩展">三、数组的扩展</a></li><li><a href="#四、箭头函数">四、箭头函数</a></li><li><a href="#五、rest-参数">五、rest 参数</a></li><li><a href="#六、展开运算符">六、展开运算符</a></li><li><a href="#七、解构赋值-更方便的数据访问">七、解构赋值----更方便的数据访问</a></li><li><a href="#八、模板字符串（template-string）">八、模板字符串（template string）</a></li><li><a href="#九、class-和传统构造函数有何区别">九、Class 和传统构造函数有何区别</a></li><li><a href="#十、promise-的基本使用和原理">十、Promise 的基本使用和原理</a></li><li><a href="#十一、iterator-和-for…of-循环">十一、Iterator 和 for…of 循环</a></li><li><a href="#十二、es6-模块化">十二、ES6 模块化</a></li></ul></li></ul></div>
ES6 虽提供了许多新特性，但我们实际工作中用到频率较高并不多，根据二八法则，我们应该用百分之八十的精力和时间，好好专研这百分之二十核心特性，将会收到事半功倍的奇效
<img src="/assets/img/1.e57c6800.jpg" alt="img"><p></p> <h3 id="一、开发环境配置"><a href="#一、开发环境配置" aria-hidden="true" class="header-anchor">#</a> 一、开发环境配置</h3> <p>这部分着重介绍：babel 编译 ES6 语法，如何用 webpack 实现模块化。</p> <p><em><strong>1.babel</strong></em></p> <p>为啥需要 babel？</p> <p>ES6 提供了许多新特性，但并不是所有的浏览器都能够完美支持。下图是各个浏览器对 ES6 兼容性一览表(以 export 为例)
<img src="/assets/img/2.af22f147.jpg" alt="img">
export各个浏览器兼容性一览表</p> <p>由上图可知，有些浏览器对于 ES6 并不是很友好，针对 ES6 的兼容性问题，很多团队为此开发出了多种语法解析转换工具(比如 babel，jsx，traceur 等)，可以把我们写的 ES6 语法转换成 ES5，相当于在 ES6 和浏览器之间做了一个翻译官。其中Babel是一个广泛使用的转码器，可以将 ES6 代码转为 ES5 代码，从而在现有环境执行。</p> <p><em><strong>如何配置 babel？</strong></em>
`</p> <ul><li>首先要先安装node.js，运行npm init，然后会生成package.json文件</li> <li>npm install --save-dev babel-core babel-preset-es2015 babel-preset-latest</li> <li>创建并配置.babelrc文件//存放在项目的根目录下，与node_modules同级</li> <li>npm install -g babel-cli</li> <li>babel-version
`</li></ul> <p>Babel 的配置文件是.babelrc，存放在项目的根目录下。该文件用来设置转码规则和插件，具体内容如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//.babelrc文件</span>
<span class="token punctuation">{</span>
    <span class="token string">&quot;presets&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;es2015&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;latest&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;plugins&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>验证配置是否成功
`</p> <ul><li>创建./src/index.js</li> <li>内容：[1,2,3].map(item=&gt;item+1）；</li> <li>运行babel./src/index.js
`
运行后得到以下部分，说明已经成功配置了 babel</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> item <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><em><strong>2.webpack</strong></em></p> <p>为啥要使用 WebPack？</p> <p>现今的很多网页其实可以看做是功能丰富的应用，它们拥有着复杂的 JavaScript 代码和一大堆依赖包，模快化工具就应运而生了，其中 webpack 功能强大深受人们喜爱。
Webpack 的工作方式是：把你的项目当做一个整体，通过一个给定的主文件（如：index.js），Webpack 将从这个文件开始找到你的项目的所有依赖文件，使用 loaders 处理它们，最后打包为一个（或多个）浏览器可识别的 JavaScript 文件。
<img src="/assets/img/2.af22f147.jpg" alt="img"></p> <p>如何配置 webpack？</p> <div class="language-js extra-class"><pre class="language-js"><code>·npm install webpack babel<span class="token operator">-</span>loader <span class="token operator">--</span>save<span class="token operator">-</span>dev
·创建并配置 webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js<span class="token comment">//webpack.config.js文件与package.json同级</span>
·配置 <span class="token keyword">package</span><span class="token punctuation">.</span>json中的scripts
·运行 npm start
<span class="token comment">//配置 webpack.config.js  针对.js结尾的文件除了node_modules都用babel解析</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    entry<span class="token punctuation">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span>
    output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        path<span class="token punctuation">:</span> __dirname<span class="token punctuation">,</span>
        filename<span class="token punctuation">:</span> <span class="token string">'./build/bundle.js'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        rules<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            test<span class="token punctuation">:</span> <span class="token regex">/\.js?$/</span><span class="token punctuation">,</span>
            exclude<span class="token punctuation">:</span> <span class="token regex">/(node_modules)/</span><span class="token punctuation">,</span>
            loader<span class="token punctuation">:</span> <span class="token string">'babel-loader'</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//配置 package.json中的scripts</span>
<span class="token string">&quot;scripts&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;start&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;webpack&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;test&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="二、块级作用域"><a href="#二、块级作用域" aria-hidden="true" class="header-anchor">#</a> 二、块级作用域</h3> <p>ES5 只有全局作用域和函数作用域（例如，我们必须将代码包在函数内来限制作用域），这导致很多问题：</p> <p>情况 1：内层变量覆盖外层变量</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>情况 2：变量泄露，成为全局变量</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
</code></pre></div><p>ES6 提供 let 和 const 来代替 var 声明变量，新的声明方式支持用大括号表示的块级作用域，这会带来一些好处：</p> <ol><li><p>不再需要立即执行的函数表达式(IIFE)
在 ES5 中，我们需要构造一个立即执行的函数表达式去保证我们不污染全局作用域。在 ES6 中， 我们可以使用更简单的大括号（{}），然后使用 const 或者 let 代替 var 来达到同样的效果。</p></li> <li><p>循环体中的闭包不再有问题
在 ES5 中，如果循环体内有产生一个闭包，访问闭包外的变量，会产生问题。在 ES6，你可以使用 “let” 来避免问题。
<img src="/assets/img/3.e82a9036.jpg" alt="img"></p></li> <li><p>防止重复声明变量
ES6 不允许在同一个作用域内用 let 或 const 重复声明同名变量。这对于防止在不同的 js 库中存在重复声明的函数表达式十分有帮助。</p></li></ol> <h3 id="三、数组的扩展"><a href="#三、数组的扩展" aria-hidden="true" class="header-anchor">#</a> 三、数组的扩展</h3> <p><em><strong>1. Array.from() : 将伪数组对象或可遍历对象转换为真数组</strong></em></p> <p>如果一个对象的所有键名都是正整数或零，并且有 length 属性，那么这个对象就很像数组，称为伪数组。典型的伪数组有函数的 arguments 对象，以及大多数 DOM 元素集，还有字符串。</p> <div class="language-html extra-class"><pre class="language-html"><code>...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>测试1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>测试2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>测试3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">let</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;btns&quot;</span><span class="token punctuation">,</span>btns<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//得到一个伪数组</span>
btns<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> Uncaught TypeError<span class="token punctuation">:</span> btns<span class="token punctuation">.</span>forEach is not a <span class="token keyword">function</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>针对伪数组，没有数组一般方法，直接遍历便会出错,ES6 新增 Array.from()方法来提供一种明确清晰的方式以解决这方面的需求。
<img src="data:image/png;base64,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" alt="img">
Array.from(btns).forEach(item=&gt;console.log(item))将伪数组转换为数组</p> <p><em><strong>2.Array.of(v1, v2, v3) : 将一系列值转换成数组</strong></em></p> <p>当调用 new Array( )构造器时，根据传入参数的类型与数量的不同，实际上会导致一些不同的结果， 例如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> items <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> <span class="token comment">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token keyword">let</span> items <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre></div><p>当使用单个数值参数来调用 Array 构造器时，数组的长度属性会被设置为该参数。 如果使用多个参数(无论是否为数值类型)来调用，这些参数也会成为目标数组的项。数组的这种行为既混乱又有风险，因为有时可能不会留意所传参数的类型。</p> <p>ES6 引入了 Array.of( )方法来解决这个问题。该方法的作用非常类似 Array 构造器，但在使用单个数值参数的时候并不会导致特殊结果。Array.of( )方法总会创建一个包含所有传入参数的数组，而不管参数的数量与类型：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> items <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
items <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre></div><p>Array.of 基本上可以用来替代 Array()或 newArray()，并且不存在由于参数不同而导致的重载，而且他们的行为非常统一。</p> <p><em><strong>3.数组实例的 find() 和 findIndex()</strong></em></p> <p>数组实例的 find 方法，用于找出第一个符合条件的数组成员。它的参数是一个回调函数，所有数组成员依次执行该回调函数，直到找出第一个返回值为 true 的成员，然后返回该成员。如果没有符合条件的成员，则返回 undefined。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> n <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// -5</span>
</code></pre></div><p>数组实例的 findIndex 方法的用法与 find 方法非常类似，返回第一个符合条件的数组成员的位置，如果所有成员都不符合条件，则返回-1。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> value <span class="token operator">&gt;</span> <span class="token number">9</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre></div><p><em><strong>4.数组实例的 includes()</strong></em></p> <p>Array.prototype.includes 方法返回一个布尔值，表示某个数组是否包含给定的值。该方法的第二个参数表示搜索的起始位置，默认为 0。如果第二个参数为负数，则表示倒数的位置，如果这时它大于数组长度（比如第二个参数为-4，但数组长度为 3），则会重置为从 0 开始。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>   <span class="token comment">// true</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><p>没有该方法之前，我们通常使用数组的 indexOf 方法，检查是否包含某个值。indexOf 方法有两个缺点，一是不够语义化，它的含义是找到参数值的第一个出现位置，所以要去比较是否不等于-1，表达起来不够直观。二是，它内部使用严格相等运算符（===）进行判断，这会导致对 NaN 的误判。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token number">NaN</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// -1</span>
<span class="token punctuation">[</span><span class="token number">NaN</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>5.数组实例的 entries()，keys() 和 values()</p> <p>ES6 提供 entries()，keys()和 values(),用于遍历数组。它们都返回一个遍历器对象，可以用 for…of 循环进行遍历，唯一的区别是 keys()是对键名的遍历、values()是对键值的遍历，entries()是对键值对的遍历。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 0</span>
<span class="token comment">// 1</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> elem <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>elem<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 'a'</span>
<span class="token comment">// 'b'</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>index<span class="token punctuation">,</span> elem<span class="token punctuation">]</span> <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> elem<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 0 &quot;a&quot;</span>
<span class="token comment">// 1 &quot;b&quot;</span>
</code></pre></div><h3 id="四、箭头函数"><a href="#四、箭头函数" aria-hidden="true" class="header-anchor">#</a> 四、箭头函数</h3> <p>ES6 允许使用“箭头”（=&gt;）定义函数。它主要有两个作用：缩减代码和改变 this 指向，接下来我们详细介绍：</p> <p><em><strong>1. 缩减代码</strong></em></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">double1</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">return</span> number <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>   <span class="token comment">//ES5写法</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">double2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> number <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token comment">//ES6写法</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">double4</span> <span class="token operator">=</span> <span class="token parameter">number</span> <span class="token operator">=&gt;</span> number <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//可以进一步简化</span>
</code></pre></div><p>多个参数记得加括号</p> <p>const double6 = (number,number2) =&gt; number + number2;
如果箭头函数的代码块部分多于一条语句，就要使用大括号将它们括起来，并且使用 return 语句返回。</p> <p>const double = (number,number2) =&gt; {
sum = number + number2
return sum;
}
由于大括号被解释为代码块，所以如果箭头函数直接返回一个对象，必须在对象外面加上括号，否则会报错。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 报错</span>
<span class="token keyword">let</span> <span class="token function-variable function">getTempItem</span> <span class="token operator">=</span> <span class="token parameter">id</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> id<span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">&quot;Temp&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 不报</span>
<span class="token keyword">let</span> <span class="token function-variable function">getTempItem</span> <span class="token operator">=</span> <span class="token parameter">id</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token punctuation">:</span> id<span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">&quot;Temp&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>此外还有个好处就是简化回调函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 正常函数写法</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 箭头函数写法</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x <span class="token operator">*</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[1, 4, 9]</span>
</code></pre></div><p><em><strong>2. 改变 this 指向</strong></em></p> <p>长期以来，JavaScript 语言的 this 对象一直是一个令人头痛的问题，在对象方法中使用 this，必须非常小心。箭头函数”绑定”this，很大程度上解决了这个困扰。我们不妨先看一个例子：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> team <span class="token operator">=</span> <span class="token punctuation">{</span>
  members<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">&quot;Henry&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Elyse&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  teamName<span class="token punctuation">:</span><span class="token string">&quot;es6&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">teamSummary</span><span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>members<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">member</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>member<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">隶属于</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>teamName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">小组</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>    <span class="token comment">// this不知道该指向谁了</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>team<span class="token punctuation">.</span><span class="token function">teamSummary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[&quot;Henry隶属于undefined小组&quot;, &quot;Elyse隶属于undefined小组&quot;]</span>
</code></pre></div><p>teamSummary 函数里面又嵌了个函数，这导致内部的 this 的指向发生了错乱。
那如何修改：</p> <p>方法一、let self = this</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> team <span class="token operator">=</span> <span class="token punctuation">{</span>
  members<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">&quot;Henry&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Elyse&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  teamName<span class="token punctuation">:</span><span class="token string">&quot;es6&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">teamSummary</span><span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>members<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">member</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>member<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">隶属于</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>self<span class="token punctuation">.</span>teamName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">小组</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>console.log(team.teamSummary());//[&quot;Henry隶属于es6小组&quot;, &quot;Elyse隶属于es6小组&quot;]
方法二、bind 函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> team <span class="token operator">=</span> <span class="token punctuation">{</span>
  members<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">&quot;Henry&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Elyse&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  teamName<span class="token punctuation">:</span><span class="token string">&quot;es6&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">teamSummary</span><span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>members<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">member</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// this不知道该指向谁了</span>
      <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>member<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">隶属于</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>teamName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">小组</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>team<span class="token punctuation">.</span><span class="token function">teamSummary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[&quot;Henry隶属于es6小组&quot;, &quot;Elyse隶属于es6小组&quot;]</span>
</code></pre></div><p>方法三、 箭头函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> team <span class="token operator">=</span> <span class="token punctuation">{</span>
  members<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">&quot;Henry&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Elyse&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  teamName<span class="token punctuation">:</span><span class="token string">&quot;es6&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">teamSummary</span><span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>members<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">member</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// this指向的就是team对象</span>
      <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>member<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">隶属于</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>teamName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">小组</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>team<span class="token punctuation">.</span><span class="token function">teamSummary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[&quot;Henry隶属于es6小组&quot;, &quot;Elyse隶属于es6小组&quot;]</span>
</code></pre></div><p>3.使用注意点</p> <p>（1）函数体内的 this 对象，就是定义时所在的对象，而不是使用时所在的对象。</p> <p>（2）不可以当作构造函数，也就是说，不可以使用 new 命令，否则会抛出一个错误。</p> <p>（3）不可以使用 arguments 对象，该对象在函数体内不存在。如果要用，可以用 rest 参数代替。</p> <p>（4）不可以使用 yield 命令，因此箭头函数不能用作 Generator 函数。</p> <h3 id="五、rest-参数"><a href="#五、rest-参数" aria-hidden="true" class="header-anchor">#</a> 五、rest 参数</h3> <p>ES6 引入 rest 参数（形式为…变量名），用于获取函数的多余参数，这样就不需要使用 arguments 对象了。</p> <p>rest 参数搭配的变量是一个数组，该变量将多余的参数放入数组中。
我们举个例子：如何实现一个求和函数？</p> <p>传统写法：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">addNumbers</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">,</span>e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">,</span>e<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> numbers<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span>number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> sum <span class="token operator">+</span> number<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">addNumbers</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//15</span>
</code></pre></div><p>ES6 写法：</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">function</span> <span class="token function">addNumbers</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>numbers</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> numbers<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span>number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> sum <span class="token operator">+</span> number<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">addNumbers</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//15</span>
</code></pre></div><p>也可以与解构赋值组合使用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span><span class="token operator">...</span>c<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[3, 4, 5, 6]</span>
</code></pre></div><p>rest 参数还可以与箭头函数结合</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">numbers</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>nums</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> nums<span class="token punctuation">;</span>
<span class="token function">numbers</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token comment">// [1,2,3,4,5]</span>
</code></pre></div><p>注意：① 每个函数最多只能声明一个 rest 参数，而且 rest 参数必须是最后一个参数，否则报错。</p> <p>②rest 参数不能用于对象字面量 setter 之中</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token comment">//报错</span>
        <span class="token comment">//执行一些逻辑</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="六、展开运算符"><a href="#六、展开运算符" aria-hidden="true" class="header-anchor">#</a> 六、展开运算符</h3> <p>与剩余参数关联最密切的就是扩展运算符。剩余参数允许你把多个独立的参数合并到一个数组中；而扩展运算符则允许将一个数组分割，并将各个项作为分离的参数传给函数。</p> <p>当用在字符串或数组前面时称为扩展运算符,个人觉得可以理解为 rest 参数的逆运算，用于将数组或字符串进行拆解。有些时候，函数不允许传入数组，此时使用展开运算符就很方便，不信的话，咱们看个例子：Math.max()方法，它接受任意数量的参数，并会返回其中的最大值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> value1 <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">,</span>
<span class="token keyword">let</span> value2 <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//  50</span>
</code></pre></div><p>但若想处理数组中的值，此时该如何找到最大值？Math.max()方法并不允许你传入一个数组。其实你可以像使用 rest 参数那样在该数组前添加…,并直接将其传递给 Math.max()</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">75</span><span class="token punctuation">,</span>    <span class="token number">100</span><span class="token punctuation">]</span>
<span class="token comment">//等价于console.log(Math.max(25,50,75,100));</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>values<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//100</span>
</code></pre></div><p>扩展运算符还可以与其他参数混用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">75</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>values<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//0</span>
</code></pre></div><p>扩展运算符拆解字符串与数组</p> <div class="language- extra-class"><pre class="language-text"><code>var array = [1,2,3,4,5];
console.log(...array);//1 2 3 4 5
var str = &quot;String&quot;;
console.log(...str);//S t r i n g
</code></pre></div><p>还可以实现拼接</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> defaultColors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;greed&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> favoriteColors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;orange&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;yellow&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> fallColors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;fire red&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;fall orange&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;blue&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;green&quot;</span><span class="token punctuation">,</span><span class="token operator">...</span>fallColors<span class="token punctuation">,</span><span class="token operator">...</span>defaultColors<span class="token punctuation">,</span><span class="token operator">...</span>favoriteColors<span class="token punctuation">]</span>
<span class="token comment">//[&quot;blue&quot;, &quot;green&quot;, &quot;fire red&quot;, &quot;fall orange&quot;, &quot;red&quot;, &quot;greed&quot;, &quot;orange&quot;, &quot;yellow&quot;]</span>
</code></pre></div><h3 id="七、解构赋值-更方便的数据访问"><a href="#七、解构赋值-更方便的数据访问" aria-hidden="true" class="header-anchor">#</a> 七、解构赋值----更方便的数据访问</h3> <p>ES6 新增了解构，这是将一个数据结构分解为更小的部分的过程。</p> <p><em><strong>1.解构为何有用？</strong></em></p> <p>在 ES5 及更早版本中，从对象或数组中获取信息、并将特定数据存入本地变量，需要书写许多并且相似的代码。例如：</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">var</span> expense <span class="token operator">=</span> <span class="token punctuation">{</span>
   type<span class="token punctuation">:</span> <span class="token string">&quot;es6&quot;</span><span class="token punctuation">,</span>
   amount<span class="token punctuation">:</span><span class="token string">&quot;45&quot;</span>
 <span class="token punctuation">}</span><span class="token punctuation">;</span>
 <span class="token keyword">var</span> type <span class="token operator">=</span> expense<span class="token punctuation">.</span>type<span class="token punctuation">;</span>
 <span class="token keyword">var</span> amount <span class="token operator">=</span> expense<span class="token punctuation">.</span>amount<span class="token punctuation">;</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span>amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>此代码提取了 expense 对象的 type 与 amount 值，并将其存在同名的本地变量上。虽然 这段代码看起来简单，但想象一下若有大量变量需要处理，你就必须逐个为其赋值；并且若有一个嵌套的数据结构需要遍历以寻找信息，你可能会为了一点数据而挖掘整个结构。</p> <p>这就是 ES6 为何要给对象与数组添加解构。当把数据结构分解为更小的部分时，从中提取你要的数据会变得容易许多。</p> <p><em><strong>2.对象</strong></em></p> <p>上个例子中如果采用对象解构的方法，就很容易获取 expense 对象的 type 与 amount 值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> type<span class="token punctuation">,</span>amount <span class="token punctuation">}</span> <span class="token operator">=</span> expense<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span>amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>我们再来看个例子：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token punctuation">{</span>type<span class="token punctuation">:</span><span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>    name<span class="token punctuation">:</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
type <span class="token operator">=</span> <span class="token string">&quot;Literal&quot;</span><span class="token punctuation">,</span>name <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token punctuation">,</span>name<span class="token punctuation">}</span><span class="token operator">=</span> node<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//    使用解构来分配不同的值</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//    &quot;Identifier&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//    &quot;foo&quot;</span>
</code></pre></div><p>注意:你必须用圆括号包裹解构赋值语句，这是因为暴露的花括号会被解析为代码块语句，而块语句不允许在赋值操作符（即等号）左侧出现。圆括号标示了里面的花括号并不是块语句、而应该被解释为表达式，从而允许完成赋值操作。</p> <p>默认值：
可以选择性地定义一个默认值，以便在指定属性不存在时使用该值。若要这么做，需要在 属性名后面添加一个等号并指定默认值，就像这样：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
  name<span class="token punctuation">:</span> <span class="token string">&quot;foo&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span>
  type<span class="token punctuation">,</span>
  name<span class="token punctuation">,</span>
  value <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> node<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//    &quot;Identifier&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//    &quot;foo&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//    true</span>
</code></pre></div><p>嵌套对象解构：
使用类似于对象字面量的语法，可以深入到嵌套的对象结构中去提取你想要的数据。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
  name<span class="token punctuation">:</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span>
  loc<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    start<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      line<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      column<span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    end<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      line<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      column<span class="token punctuation">:</span> <span class="token number">4</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> loc<span class="token punctuation">:</span> <span class="token punctuation">{</span> start <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">=</span> node<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>start<span class="token punctuation">.</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//    1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>start<span class="token punctuation">.</span>column<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//    1</span>
</code></pre></div><p>本例中的解构模式使用了花括号，表示应当下行到 node 对象的 loc 属性内部去寻找 start 属性。</p> <p>必须传值的解构参数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> value<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  secure<span class="token punctuation">,</span>
  path<span class="token punctuation">,</span>
  domain<span class="token punctuation">,</span>
  expires
<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//    设置cookie的代码</span>
<span class="token punctuation">}</span>
  <span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//报错</span>
</code></pre></div><p>在此函数内，name 与 value 参数是必需的，而 secure、path、domain 与 expires 则不是。默认情况下调用函数时未给参数解构传值会抛出错误。像上例中如果 setCookie 不传第三个参数，就会报错。若解构参数是可选的，可以给解构的参数提供默认值来处理这种错误。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> value<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  secure<span class="token punctuation">,</span>
  path<span class="token punctuation">,</span>
  domain<span class="token punctuation">,</span>
  expires
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//不会报错</span>
</code></pre></div><p>3.数组</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Henry&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bucky&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Emily&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>name1<span class="token punctuation">,</span>name2<span class="token punctuation">,</span>name3<span class="token punctuation">]</span> <span class="token operator">=</span> names<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name1<span class="token punctuation">,</span>name2<span class="token punctuation">,</span>name3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Henry Bucky Emily</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span><span class="token operator">...</span>rest<span class="token punctuation">]</span> <span class="token operator">=</span> names<span class="token punctuation">;</span><span class="token comment">//结合展开运算符</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rest<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[&quot;Bucky&quot;, &quot;Emily&quot;]</span>
</code></pre></div><p>用{}解构返回数组个数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span>length<span class="token punctuation">}</span> <span class="token operator">=</span> names<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//3</span>
数组解构也可以用于赋值上下文，但不需要用小括号包裹表达式。这点跟对象解构的约定不同。

<span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  firstColor <span class="token operator">=</span> <span class="token string">&quot;black&quot;</span><span class="token punctuation">,</span>
  secondColor <span class="token operator">=</span> <span class="token string">&quot;purple&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>firstColor<span class="token punctuation">,</span> secondColor<span class="token punctuation">]</span> <span class="token operator">=</span> colors<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstColor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//    &quot;red&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>secondColor<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// &quot;green&quot;</span>
</code></pre></div><p>默认值：数组解构赋值同样允许在数组任意位置指定默认值。当指定位置的项不存在、或其值为 undefined，那么该默认值就会被使用。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>firstColor<span class="token punctuation">,</span> secondColor <span class="token operator">=</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> colors<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstColor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//    &quot;red&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>secondColor<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//    &quot;green&quot;</span>
</code></pre></div><p>与 rest 参数搭配</p> <p>在 ES5 中常常使用 concat()方法来克隆数组，例如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//在ES5中克隆数组</span>
<span class="token keyword">var</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> clonedColors <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>clonedColors<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&quot;[red,green,blue]&quot;</span>
</code></pre></div><p>在 ES6 中，你可以使用剩余项的语法来达到同样效果</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//在ES6中克隆数组</span>
<span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span><span class="token operator">...</span>clonedColors<span class="token punctuation">]</span> <span class="token operator">=</span> colors<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>clonedColors<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[red,green,blue]</span>
</code></pre></div><p>接下我们看个例子：如何将数组转化为对象</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> points <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">//期望得到的数据格式如下，如何实现？</span>

<span class="token comment">// [</span>
<span class="token comment">//   {x:4,y:5},</span>
<span class="token comment">//   {x:10,y:1},</span>
<span class="token comment">//   {x:0,y:40}</span>
<span class="token comment">// ]</span>
<span class="token keyword">let</span> newPoints <span class="token operator">=</span> points<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">pair</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> pair<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>x<span class="token punctuation">,</span>y<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//还可以通过以下办法，更为简便</span>
<span class="token keyword">let</span> newPoints <span class="token operator">=</span> points<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>x<span class="token punctuation">,</span>y<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>x<span class="token punctuation">,</span>y<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newPoints<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>混合解构</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> people <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">&quot;Henry&quot;</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">&quot;Bucky&quot;</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">25</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">&quot;Emily&quot;</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//es5 写法</span>
<span class="token keyword">var</span> age <span class="token operator">=</span> people<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>age<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//es6 解构</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>age<span class="token punctuation">]</span> <span class="token operator">=</span> people<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//第一次解构数组 {name:&quot;Henry&quot;,age:20}</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>age<span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token operator">=</span> people<span class="token punctuation">;</span><span class="token comment">//再一次解构对象</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//20</span>
</code></pre></div><p>4.注意点</p> <p>当使用解构来配合 var、let、const 来声明变量时，必须提供初始化程序（即等号右边的值）。下面的代码都会因为缺失初始化程序而抛出语法错误：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token punctuation">{</span> type<span class="token punctuation">,</span> name <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 语法错误！</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> type<span class="token punctuation">,</span> name <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 语法错误！</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> type<span class="token punctuation">,</span> name <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 语法错误！</span>
</code></pre></div><h3 id="八、模板字符串（template-string）"><a href="#八、模板字符串（template-string）" aria-hidden="true" class="header-anchor">#</a> 八、模板字符串（template string）</h3> <p>模板字符串是增强版的字符串，用反引号（`）标识。它可以当作普通字符串使用，也可以用来定义多行字符串，或者在字符串中嵌入变量。 模板字符串中嵌入变量和函数，需要将变量名写在${}之中。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">&quot;Henry&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">makeUppercase</span><span class="token punctuation">(</span><span class="token parameter">word</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> word<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> template <span class="token operator">=</span>
  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  &lt;h1&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">makeUppercase</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!&lt;/h1&gt;//可以存放函数和变量
  &lt;p&gt;感谢大家收看我们的视频, ES6为我们提供了很多遍历好用的方法和语法!&lt;/p&gt;
  &lt;ul&gt;
    &lt;li&gt;1&lt;/li&gt;
    &lt;li&gt;2&lt;/li&gt;
    &lt;li&gt;3&lt;/li&gt;
    &lt;li&gt;4&lt;/li&gt;
    &lt;li&gt;5&lt;/li&gt;
  &lt;/ul&gt;
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'template'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> template<span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="img">
再举个例子，工作中常用到 ElementUI 库，在自定义一个弹出框时，使用模板字符串就很方便:</p> <div class="language-js extra-class"><pre class="language-js"><code>   <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$alert</span><span class="token punctuation">(</span>
          <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;p&gt;&lt;strong&gt;确认是否升级</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>lectureName
          <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/strong&gt;&lt;br&gt;(若已存在讲义套件，升级后请重新生成)&lt;/p&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            dangerouslyUseHTMLString<span class="token punctuation">:</span> <span class="token boolean">true</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
</code></pre></div><h3 id="九、class-和传统构造函数有何区别"><a href="#九、class-和传统构造函数有何区别" aria-hidden="true" class="header-anchor">#</a> 九、Class 和传统构造函数有何区别</h3> <p>从概念上讲，在 ES6 之前的 JS 中并没有和其他面向对象语言那样的“类”的概念。长时间里，人们把使用 new 关键字通过函数（也叫构造器）构造对象当做“类”来使用。由于 JS 不支持原生的类，而只是通过原型来模拟，各种模拟类的方式相对于传统的面向对象方式来说非常混乱，尤其是处理当子类继承父类、子类要调用父类的方法等等需求时。
ES6 提供了更接近传统语言的写法，引入了 Class（类）这个概念，作为对象的模板。通过 class 关键字，可以定义类。但是类只是基于原型的面向对象模式的语法糖。</p> <p>对比在传统构造函数和 ES6 中分别如何实现类：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//传统构造函数</span>
<span class="token keyword">function</span> <span class="token function">MathHandle</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token operator">=</span>x；
  <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token operator">=</span>y；
<span class="token punctuation">}</span>
<span class="token class-name">MathHandle</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">add</span> <span class="token operator">=</span><span class="token keyword">function</span>（）<span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>y；
<span class="token punctuation">}</span>；
<span class="token keyword">var</span> m<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">MathHandle</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span>）；
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span>）
<span class="token comment">//class语法</span>
<span class="token keyword">class</span> <span class="token class-name">MathHandle</span> <span class="token punctuation">{</span>
 <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token operator">=</span>x；
  <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token operator">=</span>y；
<span class="token punctuation">}</span>
 <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>y；
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> m<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">MathHandle</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span>）
</code></pre></div><p>这两者有什么联系？其实这两者本质是一样的，只不过是语法糖写法上有区别。所谓语法糖是指计算机语言中添加的某种语法，这种语法对语言的功能没有影响，但是更方便程序员使用。比如这里 class 语法糖让程序更加简洁，有更高的可读性。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">typeof</span> MathHandle <span class="token comment">//&quot;function&quot;</span>
MathHandle<span class="token operator">===</span><span class="token class-name">MathHandle</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token comment">//true</span>
</code></pre></div><p>对比在传统构造函数和 ES6 中分别如何实现继承：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//传统构造函数继承</span>
<span class="token keyword">function</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Animal eat'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">bark</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Dog bark'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 绑定原型，实现继承</span>
<span class="token keyword">var</span> hashiqi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
hashiqi<span class="token punctuation">.</span><span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//Dog bark</span>
hashiqi<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//Animal eat</span>
<span class="token comment">//ES6继承</span>
<span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>
    <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">' eat'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token comment">// 有extend就必须要有super，它代表父类的构造函数，即Animal中的constructor</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>
    <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">' say'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">'哈士奇'</span><span class="token punctuation">)</span>
dog<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//哈士奇 say</span>
dog<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//哈士奇 eat</span>
</code></pre></div><p>Class 之间可以通过 extends 关键字实现继承，这比 ES5 的通过修改原型链实现继承，要清晰和方便很多。</p> <p>Class 和传统构造函数有何区别</p> <ul><li><p>Class 在语法上更加贴合面向对象的写法</p></li> <li><p>Class 实现继承更加易读、易理解，对初学者更加友好</p></li> <li><p>本质还是语法糖，使用 prototype</p></li></ul> <h3 id="十、promise-的基本使用和原理"><a href="#十、promise-的基本使用和原理" aria-hidden="true" class="header-anchor">#</a> 十、Promise 的基本使用和原理</h3> <p>在 JavaScript 的世界中，所有代码都是单线程执行的。由于这个“缺陷”，导致 JavaScript 的所有网络操作，浏览器事件，都必须是异步执行。Promise 是异步编程的一种解决方案，比传统的解决方案(回调函数和事件)更合理和更强大。</p> <p><img src="data:image/png;base64,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" alt="img">
回调地狱<br>
ES6 中的 promise 的出现给我们很好的解决了回调地狱的问题，所谓的回调地狱是指当太多的异步步骤需要一步一步执行，或者一个函数里有太多的异步操作，这时候就会产生大量嵌套的回调，使代码嵌套太深而难以阅读和维护。ES6 认识到了这点问题，现在 promise 的使用，完美解决了这个问题。</p> <p><em><strong>Promise 原理</strong></em></p> <p>一旦状态改变，就不会再变，任何时候都可以得到这个结果。Promise 对象的状态改变，只有两种可能：从 pending 变为 fulfilled 和从 pending 变为 rejected。promise 对象初始化状态为 pending ；当调用 resolve(成功)，会由 pending =&gt; fulfilled ；当调用 reject(失败)，会由 pending =&gt; rejected。具体流程见下图：</p> <p><img src="/assets/img/5.0243ba54.jpg" alt="img">
Promise原理
Promise 的使用流程</p> <ol><li>new Promise 一个实例，而且要 return</li> <li>new Promise 时要传入函数，函数有 resolve reject 两个参数</li> <li>成功时执行 resolve，失败时执行 reject</li> <li>then 监听结果</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">loadImg</span><span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">const</span> promise<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token keyword">var</span> img<span class="token operator">=</span>document<span class="token punctuation">.</span>createElement（<span class="token string">'img'</span>）
     img<span class="token punctuation">.</span><span class="token function-variable function">onload</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
     img<span class="token punctuation">.</span><span class="token function-variable function">onerror</span><span class="token operator">=</span><span class="token keyword">function</span>（）<span class="token punctuation">{</span>
        <span class="token function">reject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
    img<span class="token punctuation">.</span>src<span class="token operator">=</span>src
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> promise<span class="token comment">//返回一个promise实例</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> src<span class="token operator">=</span><span class="token string">&quot;http://www.imooc.com/static/img/index/logo_new.png&quot;</span>
<span class="token keyword">var</span> result<span class="token operator">=</span><span class="token function">loadImg</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span>
result<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">img</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>img<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token comment">//resolved(成功)时候的回调函数</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;failed&quot;</span><span class="token punctuation">)</span><span class="token comment">//rejected(失败)时候的回调函数</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
result<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">img</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>img<span class="token punctuation">.</span>height<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>promise 会让代码变得更容易维护，像写同步代码一样写异步代码,同时业务逻辑也更易懂。</p> <h3 id="十一、iterator-和-for…of-循环"><a href="#十一、iterator-和-for…of-循环" aria-hidden="true" class="header-anchor">#</a> 十一、Iterator 和 for…of 循环</h3> <p>JavaScript 原有的表示“集合”的数据结构，主要是数组（Array）和对象（Object），ES6 又添加了 Map 和 Set。这样就需要一种统一的接口机制，来处理所有不同的数据结构。遍历器（Iterator）就是这样一种机制。它是一种接口，为各种不同的数据结构提供统一的访问机制。任何数据结构只要部署 Iterator 接口，就可以完成遍历操作（即依次处理该数据结构的所有成员）。</p> <p><em><strong>1.Iterator 的作用：</strong></em></p> <ol><li><p>为各种数据结构，提供一个统一的、简便的访问接口；</p></li> <li><p>使得数据结构的成员能够按某种次序排列</p></li> <li><p>ES6 创造了一种新的遍历命令 for…of 循环，Iterator 接口主要供 for…of 消费。
<em><strong>2.原生具备 iterator 接口的数据(可用 for of 遍历)</strong></em></p></li> <li><p>Array</p></li> <li><p>set 容器</p></li> <li><p>map 容器</p></li> <li><p>String</p></li> <li><p>函数的 arguments 对象</p></li> <li><p>NodeList 对象</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'kobe'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">of</span> arr3<span class="token punctuation">)</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 2 kobe true</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'abcd'</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> str<span class="token punctuation">)</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a b c d</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> engines <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;Gecko&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Trident&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Webkit&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Webkit&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> e <span class="token keyword">of</span> engines<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Gecko</span>
<span class="token comment">// Trident</span>
<span class="token comment">// Webkit</span>
</code></pre></div><p><em><strong>3.几种遍历方式比较</strong></em></p> <ol><li>for of 循环不仅支持数组、大多数伪数组对象，也支持字符串遍历，此外还支持 Map 和 Set 对象遍历。</li> <li>for in 循环可以遍历字符串、对象、数组，不能遍历 Set/Map</li> <li>forEach 循环不能遍历字符串、对象,可以遍历 Set/Map</li></ol> <h3 id="十二、es6-模块化"><a href="#十二、es6-模块化" aria-hidden="true" class="header-anchor">#</a> 十二、ES6 模块化</h3> <p>ES6 在语言标准的层面上，实现了模块功能，而且实现得相当简单，旨在成为浏览器和服务器通用的模块解决方案。其模块功能主要由两个命令构成：export 和 import。export 命令用于规定模块的对外接口，import 命令用于输入其他模块提供的功能。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/** 定义模块 math.js **/</span>
<span class="token keyword">var</span> basicNum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> basicNum<span class="token punctuation">,</span> add <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">/** 引用模块 **/</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> basicNum<span class="token punctuation">,</span> add <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./math'</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">ele</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ele<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">99</span> <span class="token operator">+</span> basicNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如上例所示，使用 import 命令的时候，用户需要知道所要加载的变量名或函数名，否则无法加载。为了给用户提供方便，让他们不用阅读文档就能加载模块，就要用到 export default 命令，为模块指定默认输出。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// export-default.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上面代码是一个模块文件 export-default.js，它的默认输出是一个函数。
其他模块加载该模块时，import 命令可以为该匿名函数指定任意名字。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// import-default.js</span>
<span class="token keyword">import</span> customName <span class="token keyword">from</span> <span class="token string">'./export-default'</span><span class="token punctuation">;</span>
<span class="token function">customName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'foo'</span>
</code></pre></div><p>上面代码的 import 命令，可以用任意名称指向 export-default.js 输出的方法，这时就不需要知道原模块输出的函数名。需要注意的是，这时 import 命令后面，不使用大括号。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/Interview/ES6/" class="prev router-link-active">
          ES6 题集 1
        </a></span> <span class="next"><a href="/Interview/Webpack/">
          Webpack
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3c18ba2b.js" defer></script><script src="/assets/js/2.2d7f6841.js" defer></script><script src="/assets/js/9.a84cb03a.js" defer></script>
  </body>
</html>
